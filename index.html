<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8" />
    <title>Map Animation</title>
    <meta name="viewport" content="initial-scale=1,maximum-scale=1,user-scalable=no" />
    <script src='https://api.mapbox.com/mapbox-gl-js/v2.2.0/mapbox-gl.js'></script>
    <script>
        mapboxgl.accessToken = 'pk.eyJ1IjoiYmRncm9zcyIsImEiOiJja244dTVxenowY3NnMnZwamlkaGU3a2t6In0.H8XFBwrVuX_o065fPcl_Uw';
    </script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css"
        integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2" crossorigin="anonymous">
    <link href='https://api.mapbox.com/mapbox-gl-js/v2.2.0/mapbox-gl.css' rel='stylesheet' />
    <link href="styles.css" rel="stylesheet" />
</head>

<body ng-app="busTrackerApp" ng-controller="BusTrackerCtrl as ctrl">
    <nav class="navbar navbar-light bg-light d-flex justify-content-center">
        <span class="navbar-brand mb-0 h1">Massachusetts Bay Transportation Authority Bus Tracker</span>
    </nav>
    <div class="row w-100">
        <div class="col-lg-2"></div>
        <div class="col-lg-8">
            <div class="row w-100">
                <div class="col-lg-6">
                    <div class="row w-100">
                        <div class="col text-secondary d-flex justify-content-center">
                            <!-- {{(ctrl.routes | filter: {'attributes':{'long_name':ctrl.filterText}} ).length }} -->
                            <!-- {{ctrl.routes.length}} -->
                            Search {{ctrl.routes.length}} MBTA bus routes
                        </div>
                    </div>
                    <div class="row w-100 my-2 ">
                        <div class="col-lg-1"></div>
                        <!-- <div class="col-lg-4 d-flex justify-content-end text-secondary">
                            Search  routes: 
                        </div> -->
                        <div class="col-lg-10 d-flex justify-content-center">
                            <input type="text" ng-model="ctrl.filterText"> 
                        </div>
                        <div class="col-lg-1"></div>

                    </div>
                    <div class="row w-100" style="height:400px;overflow-y:scroll;">
                        <div class="col-lg-1"></div>
                        <div class="col-lg-10">
                            <ul class="list-group">
                                <!--  -->
                                <li class="list-group-item clickArea" ng-repeat="route in ctrl.routes | filter:{attributes:{long_name:ctrl.filterText}}" >
                                    <div class="row w-100">
                                        <div class="col-2"><input type="checkbox" ng-model="self.routes[$index].selected" ></div>
                                        <div class="col-10">{{route.attributes.long_name}}</div>
                                        <!-- <div class="col">route # {{$index}}</div> -->
                                    </div>
                                </li>
                            </ul>
                        </div>
                        <div class="col-lg-1"></div>

                    </div>
                </div>
                <div class="col-lg-6 p-lg-4">
                    <div id='map' style='width: 600px; height: 450px;'></div>

                </div>
            </div>
        </div>
        <div class="col-lg-2"></div>

    </div>

    <!-- Bootstrap core JavaScript -->
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"
        integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-ho+j7jyWK8fNQe+A12Hb8AhRq26LrZ/JpcUGGOn+Y7RsweNrtN/tE3MoK7ZeZDyx"
        crossorigin="anonymous"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.8.2/angular.min.js"></script>
    <script src="./mapanimation.js"></script>

</body>

</html>